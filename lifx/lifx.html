<script type="text/x-red" data-template-name="lifx-client">
    <div class="form-row">
        <label for="node-config-input-key"><i class="fa fa-lightbulb-o"></i> Name</label>
        <input type="text" id="node-config-name">
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('lifx-client',{
        category: 'config',
        label: function() {
            return this.name? this.name : 'lifx-client';
        },
        defaults: {
            name: {required: true, value: 'LiFx Client'}
        }
    });
</script>

<script type="text/x-red" data-template-name="lifx">
    <div class="form-row">
        <label for="node-input-lx"><i class="fa fa-key"></i> Client</label>
        <input type="text" id="node-input-lx">
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <br/>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-key"></i> Light Label</label>
        <input type="text" id="node-input-lightLabel" placeholder="e.g.: Kitchen">
    </div>
    <br/>
    <div class="form-row" id="node-on">
        <label for="node-input-on"><i class="fa fa-power-off"></i> Light On</label>
        <input type="checkbox" id="node-input-on" style="display: inline-block; width: auto; vertical-align: top;">
    </div>
    <div class="form-row">
        <label for="node-input-hue">Hue</label>
        <input type="text" id="node-input-hue" placeholder="hue from 0 - 360 (in Â°)">
    </div>
    <div class="form-row">
        <label for="node-input-saturation">Saturation</label>
        <input type="text" id="node-input-saturation" placeholder="saturation from 0 - 100 (in %)">
    </div>
    <div class="form-row">
        <label for="node-input-luminance">Luminance</label>
        <input type="text" id="node-input-luminance" placeholder="brightness from 0 - 100 (in %)">
    </div>
    <div class="form-row">
        <label for="node-input-whiteColor">White Color</label>
        <input type="text" id="node-input-whiteColor" placeholder="color kelvin between 2500 and 9000">
    </div>
    <div class="form-row">
        <label for="node-input-fadeTime">Fade Time</label>
        <input type="text" id="node-input-fadeTime" placeholder="transition time in milliseconds">
    </div>
    <br/>
</script>


<!-- Next, some simple help text is provided for the node.                   -->
<script type="text/x-red" data-help-name="lifx">
   <p>Set parameters for Lifx light bulb.</p>
   <p>Returns current node state.</p>
   <p><b>msg.payload</b>. msg.payload is an Object.</p>
</script>


<!-- Finally, the node type is registered along with all of its properties   -->
<!-- The example below shows a small subset of the properties that can be set-->
<script type="text/javascript">
    RED.nodes.registerType('lifx-state',{
      category: 'input',      // the palette category
      defaults: {             // defines the editable properties of the node
          name: {value:""},   //  along with default values.
          lightLabel: {value: ""},
          lx: {type:"lifx-client", required:true}
      },
      color: "#9AC8B2",
      inputs:1,               // set the number of inputs - only 0 or 1
      outputs:1,              // set the number of outputs - 0 to n
      // set the icon (held in icons dir below where you save the node)
      icon: "light.png",     // saved in  icons/myicon.png
      label: function() {     // sets the default label contents
          return this.name||"lifx-state";
      },
      labelStyle: function() { // sets the class to apply to the label
          return this.name?"node_label_italic":"";
      }
    });
    RED.nodes.registerType('lifx',{
        category: 'output',      // the palette category
        defaults: {             // defines the editable properties of the node
            name: {value:""},   //  along with default values.
            lightLabel: {value: ""},
            on: {value: true},
            hue: {value: "0"},
            saturation: {value: "0"},
            luminance: {value: "100"},
            whiteColor: {value: "3200"},
            fadeTime: {value: "1"},
            lx: {type:"lifx-client", required:true}
        },
        color: "#9AC8B2",
        inputs:1,               // set the number of inputs - only 0 or 1
        outputs:1,              // set the number of outputs - 0 to n
        // set the icon (held in icons dir below where you save the node)
        icon: "light.png",     // saved in  icons/myicon.png
        label: function() {     // sets the default label contents
            return this.name||"lifx";
        },
        labelStyle: function() { // sets the class to apply to the label
            return this.name?"node_label_italic":"";
        }
    });
</script>


<script type="text/x-red" data-template-name="lifx-state">
    <div class="form-row">
        <label for="node-input-lx"><i class="fa fa-key"></i> Client</label>
        <input type="text" id="node-input-lx">
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <br/>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-key"></i> Light Label</label>
        <input type="text" id="node-input-lightLabel" placeholder="e.g.: Kitchen">
    </div>
    <br/>
</script>

<!-- Next, some simple help text is provided for the node.                   -->
<script type="text/x-red" data-help-name="lifx-state">
   <p>Get current state of a Lifx light bulb.</p>
   <p>Returns current node state.</p>
   <p><b>msg.payload</b>. msg.payload is an Object.</p>
</script>

<script type="text/javascript">
    RED.nodes.registerType('lifx-state',{
      category: 'input',      // the palette category
      defaults: {             // defines the editable properties of the node
          name: {value:""},   //  along with default values.
          lightLabel: {value: ""},
          lx: {type:"lifx-client", required:true}
      },
      color: "#9AC8B2",
      inputs:1,               // set the number of inputs - only 0 or 1
      outputs:1,              // set the number of outputs - 0 to n
      // set the icon (held in icons dir below where you save the node)
      icon: "light.png",     // saved in  icons/myicon.png
      label: function() {     // sets the default label contents
          return this.name||"lifx-state";
      },
      labelStyle: function() { // sets the class to apply to the label
          return this.name?"node_label_italic":"";
      }
    });
</script>
